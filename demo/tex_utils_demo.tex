%!TEX program = latexmk -xelatex
\documentclass{article}
\usepackage[%
natbib=true,backend=biber,sorting=nymdt,%
citestyle=authoryear,bibstyle=authoryear,%
url=false,doi=false,isbn=false,%
backref%
]{biblatex}

\usepackage{parskip}

\begin{filecontents}[overwrite]{\jobname-refs.bib}
  @book{mackay.d:2003,
    author = {MacKay, David J. C.},
    publisher = {Cambridge university press},
    title = {Information theory, inference and learning algorithms},
    url = {https://www.inference.org.uk/itila/},
    year = {2003}
  }
\end{filecontents}
\addbibresource{\jobname-refs.bib}

% jbib_links: makes nice links, and defines nymdt sorting.
%   Imports mathtools, xcolor, hyperref, cleveref.
\input{/Users/j/Library/texmf/custom/jbib_links.tex}

% jformat: defines \myuline for nicer underline.
%   Imports packages contour, ulem
\input{/Users/j/Library/texmf/custom/jformat.tex}

% kast: a nice box environment:
\input{/Users/j/Library/texmf/custom/kast.tex}

% IT operators: for expectation \E{}, entropy \H{}, MI \I{} etc.
\input{/Users/j/Library/texmf/custom/information-theory-operators.tex}

\begin{document}

\title{Some \LaTeX\ utils}
\author{jlh}

\maketitle

This document demos some things I've collected for nicer texing.
For instance, underlines like this \myuline{example}.

Also, citations with auto links, like this: check out
the link in the refences when I cite, e.g.~\citet[][]{mackay.d:2003}.
Links are auto-generated from the \texttt{url}, \texttt{doi}, etc.\ fields.

\begin{kast}{Simple titled box}
  For a box like this, use the \texttt{kast} environment.
\end{kast}

Information theory operators, for things like this:
\begin{align}
  \I{X;Y} &= \KL{P_{(X,Y)}}{P_X \otimes P_Y}
          &&= \E_{p_{(X,Y)}}{\log \frac{p_{(X,Y)}(x,y)}{p_X(x)p_Y(y)}}\\
          &= \H{X} - \H{X\mid Y}\\
          & &&= \int_{\mathcal{X}\times\mathcal{Y}}
          \log \mleft(\frac{\mathrm{d}P_X \otimes
          P_Y}{\mathrm{d}P_{(X,Y)}}\mright) \,\mathrm{d}P_X \otimes P_Y
\end{align}

\printbibliography{}

\end{document}
